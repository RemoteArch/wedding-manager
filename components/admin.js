const{useEffect:e,useState:t,useMemo:a}=React,r="/api/index.php/index",c="admin",n="kris&frank2026",l=({onLogin:e})=>{const[a,r]=t(""),[l,s]=t(""),[i,o]=t(""),[m,d]=t(!1);return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-[#5B2A16] via-[#7A3B24] to-[#4a2312] flex items-center justify-center p-6"},React.createElement("div",{className:"w-full max-w-[400px]"},React.createElement("div",{className:"bg-white rounded-[20px] shadow-2xl overflow-hidden"},React.createElement("div",{className:"bg-[#5B2A16] px-8 py-6 text-center"},React.createElement("h1",{className:"text-white text-[28px] font-bold tracking-wide",style:{fontFamily:'"Playfair Display", serif'}},"Administration"),React.createElement("p",{className:"text-white/70 text-[14px] mt-1",style:{fontFamily:'"EB Garamond", serif'}},"Kristel & Frank - Gestion des invités")),React.createElement("form",{onSubmit:t=>{t.preventDefault(),d(!0),o(""),setTimeout((()=>{a===c&&l===n?(localStorage.setItem("admin_logged_in","true"),e(!0)):o("Identifiants incorrects"),d(!1)}),500)},className:"p-8 space-y-5"},React.createElement("div",null,React.createElement("label",{className:"block text-[#5B2A16] text-[14px] font-medium mb-2",style:{fontFamily:'"EB Garamond", serif'}},"Nom d'utilisateur"),React.createElement("input",{type:"text",value:a,onChange:e=>r(e.target.value),className:"w-full h-[48px] rounded-[10px] bg-gray-50 border border-gray-200 px-4 text-[15px] outline-none focus:border-[#5B2A16] focus:ring-2 focus:ring-[#5B2A16]/20 transition-all",placeholder:"Entrez votre nom d'utilisateur",disabled:m})),React.createElement("div",null,React.createElement("label",{className:"block text-[#5B2A16] text-[14px] font-medium mb-2",style:{fontFamily:'"EB Garamond", serif'}},"Mot de passe"),React.createElement("input",{type:"password",value:l,onChange:e=>s(e.target.value),className:"w-full h-[48px] rounded-[10px] bg-gray-50 border border-gray-200 px-4 text-[15px] outline-none focus:border-[#5B2A16] focus:ring-2 focus:ring-[#5B2A16]/20 transition-all",placeholder:"Entrez votre mot de passe",disabled:m})),i&&React.createElement("div",{className:"bg-red-50 border border-red-200 rounded-[10px] px-4 py-3"},React.createElement("p",{className:"text-red-600 text-[14px] text-center"},i)),React.createElement("button",{type:"submit",disabled:m,className:"w-full h-[50px] rounded-[10px] bg-[#5B2A16] text-white text-[16px] font-medium hover:bg-[#4a2312] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},m?React.createElement(React.Fragment,null,React.createElement("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24"},React.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),React.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Connexion..."):"Se connecter"))),React.createElement("p",{className:"text-white/50 text-[12px] text-center mt-6",style:{fontFamily:'"EB Garamond", serif'}},"© 2026 Kristel & Frank Wedding")))},s=({onLogout:c})=>{const[n,l]=t([]),[s,i]=t(!0),[o,m]=t(""),[d,x]=t("all"),[p,u]=t("all"),[g,y]=t(null),[E,f]=t(null);e((()=>{h()}),[]);const h=async()=>{try{i(!0);const e=await fetch(`${r}/invitations`),t=await e.json();t.success&&Array.isArray(t.data)&&l(t.data)}catch(e){console.error("Error fetching invitations:",e)}finally{i(!1)}},R=async(e,t)=>{y(e);try{const a=await fetch(`${r}/invitation_status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,status:t})});(await a.json()).success&&await h()}catch(e){console.error("Error updating status:",e)}finally{y(null)}},b=a((()=>{const e=new Set(n.map((e=>e.table)));return Array.from(e).sort(((e,t)=>e-t))}),[n]),v=a((()=>n.filter((e=>{const t=e.invite.toLowerCase().includes(o.toLowerCase())||e.invite_code.toLowerCase().includes(o.toLowerCase()),a="all"===d||"scanned"===d&&"scanned"===e.status||"pending"===d&&"scanned"!==e.status,r="all"===p||e.table===parseInt(p);return t&&a&&r}))),[n,o,d,p]),w=a((()=>{const e=n.length,t=n.filter((e=>"scanned"===e.status)).length;return{total:e,scanned:t,pending:e-t}}),[n]);return React.createElement("div",{className:"min-h-screen bg-gray-100"},React.createElement("header",{className:"bg-[#5B2A16] shadow-lg sticky top-0 z-50"},React.createElement("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("h1",{className:"text-white text-[22px] font-bold",style:{fontFamily:'"Playfair Display", serif'}},"Gestion des Invités"),React.createElement("span",{className:"text-white/60 text-[14px] hidden sm:inline",style:{fontFamily:'"EB Garamond", serif'}},"Kristel & Frank")),React.createElement("button",{onClick:()=>{localStorage.removeItem("admin_logged_in"),c()},className:"flex items-center gap-2 px-4 py-2 rounded-[8px] bg-white/10 text-white hover:bg-white/20 transition-colors text-[14px]"},React.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),React.createElement("polyline",{points:"16,17 21,12 16,7"}),React.createElement("line",{x1:"21",y1:"12",x2:"9",y2:"12"})),"Déconnexion"))),React.createElement("main",{className:"max-w-7xl mx-auto px-4 py-6"},React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6"},React.createElement("div",{className:"bg-white rounded-[14px] p-5 shadow-sm border border-gray-100"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("div",{className:"w-[50px] h-[50px] rounded-full bg-[#5B2A16]/10 flex items-center justify-center"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#5B2A16",strokeWidth:"2"},React.createElement("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),React.createElement("circle",{cx:"9",cy:"7",r:"4"}),React.createElement("path",{d:"M23 21v-2a4 4 0 00-3-3.87"}),React.createElement("path",{d:"M16 3.13a4 4 0 010 7.75"}))),React.createElement("div",null,React.createElement("p",{className:"text-gray-500 text-[13px]",style:{fontFamily:'"EB Garamond", serif'}},"Total Invités"),React.createElement("p",{className:"text-[28px] font-bold text-[#5B2A16]"},w.total)))),React.createElement("div",{className:"bg-white rounded-[14px] p-5 shadow-sm border border-gray-100"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("div",{className:"w-[50px] h-[50px] rounded-full bg-green-100 flex items-center justify-center"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#22c55e",strokeWidth:"2"},React.createElement("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),React.createElement("polyline",{points:"22,4 12,14.01 9,11.01"}))),React.createElement("div",null,React.createElement("p",{className:"text-gray-500 text-[13px]",style:{fontFamily:'"EB Garamond", serif'}},"Scannés"),React.createElement("p",{className:"text-[28px] font-bold text-green-600"},w.scanned)))),React.createElement("div",{className:"bg-white rounded-[14px] p-5 shadow-sm border border-gray-100"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("div",{className:"w-[50px] h-[50px] rounded-full bg-amber-100 flex items-center justify-center"},React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#f59e0b",strokeWidth:"2"},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("polyline",{points:"12,6 12,12 16,14"}))),React.createElement("div",null,React.createElement("p",{className:"text-gray-500 text-[13px]",style:{fontFamily:'"EB Garamond", serif'}},"En attente"),React.createElement("p",{className:"text-[28px] font-bold text-amber-600"},w.pending))))),React.createElement("div",{className:"bg-white rounded-[14px] p-5 shadow-sm border border-gray-100 mb-6"},React.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"relative"},React.createElement("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("circle",{cx:"11",cy:"11",r:"8"}),React.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})),React.createElement("input",{type:"text",placeholder:"Rechercher par nom ou code...",value:o,onChange:e=>m(e.target.value),className:"w-full h-[44px] rounded-[10px] bg-gray-50 border border-gray-200 pl-11 pr-4 text-[14px] outline-none focus:border-[#5B2A16] focus:ring-2 focus:ring-[#5B2A16]/20 transition-all"}))),React.createElement("select",{value:d,onChange:e=>x(e.target.value),className:"h-[44px] rounded-[10px] bg-gray-50 border border-gray-200 px-4 text-[14px] outline-none focus:border-[#5B2A16] min-w-[150px]"},React.createElement("option",{value:"all"},"Tous les statuts"),React.createElement("option",{value:"scanned"},"Scannés"),React.createElement("option",{value:"pending"},"En attente")),React.createElement("select",{value:p,onChange:e=>u(e.target.value),className:"h-[44px] rounded-[10px] bg-gray-50 border border-gray-200 px-4 text-[14px] outline-none focus:border-[#5B2A16] min-w-[130px]"},React.createElement("option",{value:"all"},"Toutes les tables"),b.map((e=>React.createElement("option",{key:e,value:e},"Table ",e)))),React.createElement("button",{onClick:h,disabled:s,className:"h-[44px] px-5 rounded-[10px] bg-[#5B2A16] text-white hover:bg-[#4a2312] transition-colors flex items-center gap-2 text-[14px] disabled:opacity-50"},React.createElement("svg",{className:s?"animate-spin":"",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M23 4v6h-6"}),React.createElement("path",{d:"M1 20v-6h6"}),React.createElement("path",{d:"M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"})),"Actualiser"))),React.createElement("div",{className:"mb-4 flex items-center justify-between"},React.createElement("p",{className:"text-gray-600 text-[14px]",style:{fontFamily:'"EB Garamond", serif'}},v.length," invité(s) trouvé(s)")),React.createElement("div",{className:"bg-white rounded-[14px] shadow-sm border border-gray-100 overflow-hidden"},s?React.createElement("div",{className:"flex items-center justify-center py-20"},React.createElement("svg",{className:"animate-spin h-8 w-8 text-[#5B2A16]",viewBox:"0 0 24 24"},React.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),React.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))):React.createElement("div",{className:"overflow-x-auto"},React.createElement("table",{className:"w-full"},React.createElement("thead",null,React.createElement("tr",{className:"bg-gray-50 border-b border-gray-200"},React.createElement("th",{className:"text-left px-5 py-4 text-[13px] font-semibold text-gray-600 uppercase tracking-wider"},"Invité"),React.createElement("th",{className:"text-left px-5 py-4 text-[13px] font-semibold text-gray-600 uppercase tracking-wider"},"Code"),React.createElement("th",{className:"text-center px-5 py-4 text-[13px] font-semibold text-gray-600 uppercase tracking-wider"},"Table"),React.createElement("th",{className:"text-center px-5 py-4 text-[13px] font-semibold text-gray-600 uppercase tracking-wider"},"Catégorie"),React.createElement("th",{className:"text-center px-5 py-4 text-[13px] font-semibold text-gray-600 uppercase tracking-wider"},"Statut"),React.createElement("th",{className:"text-center px-5 py-4 text-[13px] font-semibold text-gray-600 uppercase tracking-wider"},"Actions"))),React.createElement("tbody",{className:"divide-y divide-gray-100"},v.map(((e,t)=>React.createElement("tr",{key:e.invite_code,className:"hover:bg-gray-50 transition-colors"},React.createElement("td",{className:"px-5 py-4"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"w-[36px] h-[36px] rounded-full bg-[#5B2A16]/10 flex items-center justify-center flex-shrink-0"},React.createElement("span",{className:"text-[#5B2A16] text-[14px] font-semibold"},e.invite.charAt(0).toUpperCase())),React.createElement("span",{className:"text-[14px] text-gray-800 font-medium"},e.invite))),React.createElement("td",{className:"px-5 py-4"},React.createElement("code",{className:"bg-gray-100 px-2 py-1 rounded text-[13px] text-gray-700 font-mono"},e.invite_code)),React.createElement("td",{className:"px-5 py-4 text-center"},React.createElement("span",{className:"inline-flex items-center justify-center w-[32px] h-[32px] rounded-full bg-[#5B2A16] text-white text-[13px] font-semibold"},e.table)),React.createElement("td",{className:"px-5 py-4 text-center"},React.createElement("span",{className:"inline-block px-3 py-1 rounded-full text-[12px] font-medium "+("C"===e.code?"bg-purple-100 text-purple-700":"S"===e.code?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600")},"C"===e.code?"Couple":"S"===e.code?"Solo":"-")),React.createElement("td",{className:"px-5 py-4 text-center"},"scanned"===e.status?React.createElement("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-green-100 text-green-700 text-[12px] font-medium"},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("polyline",{points:"20,6 9,17 4,12"})),"Scanné"):React.createElement("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-amber-100 text-amber-700 text-[12px] font-medium"},React.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("polyline",{points:"12,6 12,12 16,14"})),"En attente")),React.createElement("td",{className:"px-5 py-4"},React.createElement("div",{className:"flex items-center justify-center gap-2"},React.createElement("button",{onClick:()=>{navigator.clipboard.writeText(`https://kris-frank2026.free.nf/?code=${e.invite_code}`),f(e.invite_code),setTimeout((()=>f(null)),2e3)},className:"px-3 py-2 rounded-[8px] bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors text-[13px] font-medium",title:"Copier le lien"},E===e.invite_code?React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("polyline",{points:"20,6 9,17 4,12"})):React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),React.createElement("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"}))),"scanned"===e.status?React.createElement("button",{onClick:()=>R(e.invite_code,""),disabled:g===e.invite_code,className:"px-4 py-2 rounded-[8px] bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors text-[13px] font-medium disabled:opacity-50"},g===e.invite_code?"Mise à jour...":"Réinitialiser"):React.createElement("button",{onClick:()=>R(e.invite_code,"scanned"),disabled:g===e.invite_code,className:"px-4 py-2 rounded-[8px] bg-[#5B2A16] text-white hover:bg-[#4a2312] transition-colors text-[13px] font-medium disabled:opacity-50"},g===e.invite_code?"Mise à jour...":"Marquer scanné")))))))),0===v.length&&React.createElement("div",{className:"text-center py-16"},React.createElement("svg",{className:"mx-auto mb-4 text-gray-300",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},React.createElement("circle",{cx:"11",cy:"11",r:"8"}),React.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})),React.createElement("p",{className:"text-gray-500 text-[15px]"},"Aucun invité trouvé"),React.createElement("p",{className:"text-gray-400 text-[13px] mt-1"},"Essayez de modifier vos filtres"))))),React.createElement("footer",{className:"bg-white border-t border-gray-200 mt-10"},React.createElement("div",{className:"max-w-7xl mx-auto px-4 py-4 text-center"},React.createElement("p",{className:"text-gray-500 text-[12px]",style:{fontFamily:'"EB Garamond", serif'}},"© 2026 Kristel & Frank Wedding - Interface d'administration"))))};export default()=>{const[e,a]=t((()=>"true"===localStorage.getItem("admin_logged_in")));return React.createElement(React.Fragment,null,React.createElement("style",null,"\n                @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap');\n            "),e?React.createElement(s,{onLogout:()=>a(!1)}):React.createElement(l,{onLogin:a}))};